/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../../lib/schemas.js";
import * as openEnums from "../../types/enums.js";
import { ClosedEnum, OpenEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { smartUnion } from "../../types/smart-union.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

/**
 * Sort by creation date
 */
export const Sort = {
  Asc: "asc",
  Desc: "desc",
} as const;
/**
 * Sort by creation date
 */
export type Sort = ClosedEnum<typeof Sort>;

export const ListPostsStatusQueryParamEnum2 = {
  Draft: "draft",
  Published: "published",
} as const;
export type ListPostsStatusQueryParamEnum2 = ClosedEnum<
  typeof ListPostsStatusQueryParamEnum2
>;

export const ListPostsStatusQueryParamEnum1 = {
  Draft: "draft",
  Published: "published",
} as const;
export type ListPostsStatusQueryParamEnum1 = ClosedEnum<
  typeof ListPostsStatusQueryParamEnum1
>;

/**
 * Filter by status. Repeat the query param to pass multiple values.
 */
export type ListPostsStatusUnion =
  | ListPostsStatusQueryParamEnum1
  | Array<ListPostsStatusQueryParamEnum2>;

export type ListPostsRequest = {
  organizationId: string;
  /**
   * Sort by creation date
   */
  sort?: Sort | undefined;
  /**
   * Items per page
   */
  limit?: number | undefined;
  /**
   * Page number
   */
  page?: number | undefined;
  /**
   * Filter by status. Repeat the query param to pass multiple values.
   */
  status?:
    | ListPostsStatusQueryParamEnum1
    | Array<ListPostsStatusQueryParamEnum2>
    | undefined;
};

export const ListPostsPostStatus = {
  Draft: "draft",
  Published: "published",
} as const;
export type ListPostsPostStatus = OpenEnum<typeof ListPostsPostStatus>;

export type ListPostsPost = {
  id: string;
  title: string;
  content: string;
  markdown: string;
  contentType: string;
  sourceMetadata?: any | undefined;
  status: ListPostsPostStatus;
  createdAt: string;
  updatedAt: string;
};

export type Pagination = {
  limit: number;
  currentPage: number;
  nextPage: number | null;
  previousPage: number | null;
  totalPages: number;
  totalItems: number;
};

export const ListPostsMetadataStatus = {
  Draft: "draft",
  Published: "published",
} as const;
export type ListPostsMetadataStatus = OpenEnum<typeof ListPostsMetadataStatus>;

export type ListPostsMetadata = {
  status: Array<ListPostsMetadataStatus>;
};

/**
 * Posts fetched successfully
 */
export type ListPostsResponse = {
  posts: Array<ListPostsPost>;
  pagination: Pagination;
  metadata: ListPostsMetadata;
};

/** @internal */
export const Sort$outboundSchema: z.ZodMiniEnum<typeof Sort> = z.enum(Sort);

/** @internal */
export const ListPostsStatusQueryParamEnum2$outboundSchema: z.ZodMiniEnum<
  typeof ListPostsStatusQueryParamEnum2
> = z.enum(ListPostsStatusQueryParamEnum2);

/** @internal */
export const ListPostsStatusQueryParamEnum1$outboundSchema: z.ZodMiniEnum<
  typeof ListPostsStatusQueryParamEnum1
> = z.enum(ListPostsStatusQueryParamEnum1);

/** @internal */
export type ListPostsStatusUnion$Outbound = string | Array<string>;

/** @internal */
export const ListPostsStatusUnion$outboundSchema: z.ZodMiniType<
  ListPostsStatusUnion$Outbound,
  ListPostsStatusUnion
> = smartUnion([
  ListPostsStatusQueryParamEnum1$outboundSchema,
  z.array(ListPostsStatusQueryParamEnum2$outboundSchema),
]);

export function listPostsStatusUnionToJSON(
  listPostsStatusUnion: ListPostsStatusUnion,
): string {
  return JSON.stringify(
    ListPostsStatusUnion$outboundSchema.parse(listPostsStatusUnion),
  );
}

/** @internal */
export type ListPostsRequest$Outbound = {
  organizationId: string;
  sort: string;
  limit: number;
  page: number;
  status?: string | Array<string> | undefined;
};

/** @internal */
export const ListPostsRequest$outboundSchema: z.ZodMiniType<
  ListPostsRequest$Outbound,
  ListPostsRequest
> = z.object({
  organizationId: z.string(),
  sort: z._default(Sort$outboundSchema, "desc"),
  limit: z._default(z.int(), 10),
  page: z._default(z.int(), 1),
  status: z.optional(
    smartUnion([
      ListPostsStatusQueryParamEnum1$outboundSchema,
      z.array(ListPostsStatusQueryParamEnum2$outboundSchema),
    ]),
  ),
});

export function listPostsRequestToJSON(
  listPostsRequest: ListPostsRequest,
): string {
  return JSON.stringify(
    ListPostsRequest$outboundSchema.parse(listPostsRequest),
  );
}

/** @internal */
export const ListPostsPostStatus$inboundSchema: z.ZodMiniType<
  ListPostsPostStatus,
  unknown
> = openEnums.inboundSchema(ListPostsPostStatus);

/** @internal */
export const ListPostsPost$inboundSchema: z.ZodMiniType<
  ListPostsPost,
  unknown
> = z.object({
  id: types.string(),
  title: types.string(),
  content: types.string(),
  markdown: types.string(),
  contentType: types.string(),
  sourceMetadata: types.optional(z.any()),
  status: ListPostsPostStatus$inboundSchema,
  createdAt: types.string(),
  updatedAt: types.string(),
});

export function listPostsPostFromJSON(
  jsonString: string,
): SafeParseResult<ListPostsPost, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListPostsPost$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListPostsPost' from JSON`,
  );
}

/** @internal */
export const Pagination$inboundSchema: z.ZodMiniType<Pagination, unknown> = z
  .object({
    limit: types.number(),
    currentPage: types.number(),
    nextPage: types.nullable(types.number()),
    previousPage: types.nullable(types.number()),
    totalPages: types.number(),
    totalItems: types.number(),
  });

export function paginationFromJSON(
  jsonString: string,
): SafeParseResult<Pagination, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Pagination$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Pagination' from JSON`,
  );
}

/** @internal */
export const ListPostsMetadataStatus$inboundSchema: z.ZodMiniType<
  ListPostsMetadataStatus,
  unknown
> = openEnums.inboundSchema(ListPostsMetadataStatus);

/** @internal */
export const ListPostsMetadata$inboundSchema: z.ZodMiniType<
  ListPostsMetadata,
  unknown
> = z.object({
  status: z.array(ListPostsMetadataStatus$inboundSchema),
});

export function listPostsMetadataFromJSON(
  jsonString: string,
): SafeParseResult<ListPostsMetadata, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListPostsMetadata$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListPostsMetadata' from JSON`,
  );
}

/** @internal */
export const ListPostsResponse$inboundSchema: z.ZodMiniType<
  ListPostsResponse,
  unknown
> = z.object({
  posts: z.array(z.lazy(() => ListPostsPost$inboundSchema)),
  pagination: z.lazy(() => Pagination$inboundSchema),
  metadata: z.lazy(() => ListPostsMetadata$inboundSchema),
});

export function listPostsResponseFromJSON(
  jsonString: string,
): SafeParseResult<ListPostsResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListPostsResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListPostsResponse' from JSON`,
  );
}
